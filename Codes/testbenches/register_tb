#! /usr/bin/vvp
:ivl_version "12.0 (stable)" "(v12_0-dirty)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/usr/lib/ivl/system.vpi";
:vpi_module "/usr/lib/ivl/vhdl_sys.vpi";
:vpi_module "/usr/lib/ivl/vhdl_textio.vpi";
:vpi_module "/usr/lib/ivl/v2005_math.vpi";
:vpi_module "/usr/lib/ivl/va_math.vpi";
S_0x5601caec3ab0 .scope module, "register_file_tb" "register_file_tb" 2 3;
 .timescale -9 -12;
v0x5601caef8c20_0 .var "RegWrite", 0 0;
v0x5601caef8ce0_0 .var "clk", 0 0;
v0x5601caef8d80_0 .var "instruction", 31 0;
v0x5601caef8e20_0 .net "read_data1", 63 0, L_0x5601caef9d00;  1 drivers
v0x5601caef8ec0_0 .net "read_data2", 63 0, L_0x5601caefa3d0;  1 drivers
v0x5601caef8f60_0 .var "write_data", 63 0;
S_0x5601caec3c40 .scope module, "uut" "register_file" 2 12, 3 1 0, S_0x5601caec3ab0;
 .timescale 0 0;
    .port_info 0 /INPUT 32 "instruction";
    .port_info 1 /INPUT 64 "write_data";
    .port_info 2 /INPUT 1 "RegWrite";
    .port_info 3 /INPUT 1 "clk";
    .port_info 4 /OUTPUT 64 "read_data1";
    .port_info 5 /OUTPUT 64 "read_data2";
L_0x5601caef9d00 .functor BUFZ 64, L_0x5601caef9d70, C4<0000000000000000000000000000000000000000000000000000000000000000>, C4<0000000000000000000000000000000000000000000000000000000000000000>, C4<0000000000000000000000000000000000000000000000000000000000000000>;
L_0x5601caefa3d0 .functor BUFZ 64, L_0x5601caefa0c0, C4<0000000000000000000000000000000000000000000000000000000000000000>, C4<0000000000000000000000000000000000000000000000000000000000000000>, C4<0000000000000000000000000000000000000000000000000000000000000000>;
v0x5601caebe5a0_0 .net "RegWrite", 0 0, v0x5601caef8c20_0;  1 drivers
v0x5601caef7430_0 .net *"_ivl_11", 4 0, L_0x5601caef91c0;  1 drivers
v0x5601caef7510_0 .net *"_ivl_16", 6 0, L_0x5601caef9390;  1 drivers
L_0x7f11f5559018 .functor BUFT 1, C4<1010011>, C4<0>, C4<0>, C4<0>;
v0x5601caef75d0_0 .net/2u *"_ivl_17", 6 0, L_0x7f11f5559018;  1 drivers
v0x5601caef76b0_0 .net *"_ivl_19", 0 0, L_0x5601caef9490;  1 drivers
v0x5601caef77c0_0 .net *"_ivl_25", 6 0, L_0x5601caef9750;  1 drivers
L_0x7f11f5559060 .functor BUFT 1, C4<1010011>, C4<0>, C4<0>, C4<0>;
v0x5601caef78a0_0 .net/2u *"_ivl_26", 6 0, L_0x7f11f5559060;  1 drivers
v0x5601caef7980_0 .net *"_ivl_28", 0 0, L_0x5601caef9840;  1 drivers
v0x5601caef7a40_0 .net *"_ivl_3", 4 0, L_0x5601caef9000;  1 drivers
v0x5601caef7b20_0 .net *"_ivl_34", 6 0, L_0x5601caef9b20;  1 drivers
L_0x7f11f55590a8 .functor BUFT 1, C4<1010011>, C4<0>, C4<0>, C4<0>;
v0x5601caef7c00_0 .net/2u *"_ivl_35", 6 0, L_0x7f11f55590a8;  1 drivers
v0x5601caef7ce0_0 .net *"_ivl_37", 0 0, L_0x5601caef9bc0;  1 drivers
v0x5601caef7da0_0 .net *"_ivl_39", 63 0, L_0x5601caef9d70;  1 drivers
v0x5601caef7e80_0 .net *"_ivl_41", 7 0, L_0x5601caef9e10;  1 drivers
L_0x7f11f55590f0 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x5601caef7f60_0 .net *"_ivl_44", 1 0, L_0x7f11f55590f0;  1 drivers
v0x5601caef8040_0 .net *"_ivl_47", 63 0, L_0x5601caefa0c0;  1 drivers
v0x5601caef8120_0 .net *"_ivl_49", 7 0, L_0x5601caefa160;  1 drivers
L_0x7f11f5559138 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x5601caef8200_0 .net *"_ivl_52", 1 0, L_0x7f11f5559138;  1 drivers
v0x5601caef82e0_0 .net *"_ivl_7", 4 0, L_0x5601caef9120;  1 drivers
v0x5601caef83c0_0 .net "clk", 0 0, v0x5601caef8ce0_0;  1 drivers
v0x5601caef8480_0 .net "instruction", 31 0, v0x5601caef8d80_0;  1 drivers
v0x5601caef8560_0 .net "read_data1", 63 0, L_0x5601caef9d00;  alias, 1 drivers
v0x5601caef8640_0 .net "read_data2", 63 0, L_0x5601caefa3d0;  alias, 1 drivers
v0x5601caef8720_0 .net "reg_addr1", 5 0, L_0x5601caef9290;  1 drivers
v0x5601caef8800_0 .net "reg_addr2", 5 0, L_0x5601caef9660;  1 drivers
v0x5601caef88e0 .array "registers", 0 63, 63 0;
v0x5601caef89a0_0 .net "write_addr", 5 0, L_0x5601caef99d0;  1 drivers
v0x5601caef8a80_0 .net "write_data", 63 0, v0x5601caef8f60_0;  1 drivers
E_0x5601caec0e50 .event posedge, v0x5601caef83c0_0;
L_0x5601caef9000 .part v0x5601caef8d80_0, 15, 5;
L_0x5601caef9120 .part v0x5601caef8d80_0, 20, 5;
L_0x5601caef91c0 .part v0x5601caef8d80_0, 7, 5;
L_0x5601caef9290 .concat8 [ 5 1 0 0], L_0x5601caef9000, L_0x5601caef9490;
L_0x5601caef9390 .part v0x5601caef8d80_0, 0, 7;
L_0x5601caef9490 .cmp/eq 7, L_0x5601caef9390, L_0x7f11f5559018;
L_0x5601caef9660 .concat8 [ 5 1 0 0], L_0x5601caef9120, L_0x5601caef9840;
L_0x5601caef9750 .part v0x5601caef8d80_0, 0, 7;
L_0x5601caef9840 .cmp/eq 7, L_0x5601caef9750, L_0x7f11f5559060;
L_0x5601caef99d0 .concat8 [ 5 1 0 0], L_0x5601caef91c0, L_0x5601caef9bc0;
L_0x5601caef9b20 .part v0x5601caef8d80_0, 0, 7;
L_0x5601caef9bc0 .cmp/eq 7, L_0x5601caef9b20, L_0x7f11f55590a8;
L_0x5601caef9d70 .array/port v0x5601caef88e0, L_0x5601caef9e10;
L_0x5601caef9e10 .concat [ 6 2 0 0], L_0x5601caef9290, L_0x7f11f55590f0;
L_0x5601caefa0c0 .array/port v0x5601caef88e0, L_0x5601caefa160;
L_0x5601caefa160 .concat [ 6 2 0 0], L_0x5601caef9660, L_0x7f11f5559138;
    .scope S_0x5601caec3c40;
T_0 ;
    %wait E_0x5601caec0e50;
    %load/vec4 v0x5601caebe5a0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_0.0, 8;
    %load/vec4 v0x5601caef8a80_0;
    %load/vec4 v0x5601caef89a0_0;
    %pad/u 8;
    %ix/vec4 4;
    %store/vec4a v0x5601caef88e0, 4, 0;
T_0.0 ;
    %jmp T_0;
    .thread T_0;
    .scope S_0x5601caec3ab0;
T_1 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5601caef8ce0_0, 0, 1;
    %end;
    .thread T_1;
    .scope S_0x5601caec3ab0;
T_2 ;
    %delay 5000, 0;
    %load/vec4 v0x5601caef8ce0_0;
    %inv;
    %store/vec4 v0x5601caef8ce0_0, 0, 1;
    %jmp T_2;
    .thread T_2;
    .scope S_0x5601caec3ab0;
T_3 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 0, 0, 64;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %delay 10000, 0;
    %vpi_call 2 33 "$display", "\012=== Test 1: Integer Register x5 ===" {0 0 0};
    %pushi/vec4 691, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 3735928559, 0, 32;
    %concati/vec4 3405691582, 0, 32;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %vpi_call 2 37 "$display", "WRITE: x[5] = 0x%h", v0x5601caef8f60_0 {0 0 0};
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %pushi/vec4 163891, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 43 "$display", "READ:  x[5] = 0x%h", v0x5601caef8e20_0 {0 0 0};
    %vpi_call 2 46 "$display", "\012=== Test 2: Floating-Point Register f10 ===" {0 0 0};
    %pushi/vec4 1363, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 2147483648, 0, 33;
    %concati/vec4 0, 0, 31;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %vpi_call 2 50 "$display", "WRITE: f[10] = 0x%h", v0x5601caef8f60_0 {0 0 0};
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %pushi/vec4 327763, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 56 "$display", "READ:  f[10] = 0x%h", v0x5601caef8e20_0 {0 0 0};
    %vpi_call 2 59 "$display", "\012=== Test 3: Integer Register x31 ===" {0 0 0};
    %pushi/vec4 4019, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 4294967295, 0, 32;
    %concati/vec4 4294967295, 0, 32;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %vpi_call 2 63 "$display", "WRITE: x[31] = 0x%h", v0x5601caef8f60_0 {0 0 0};
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %pushi/vec4 1015859, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 69 "$display", "READ:  x[31] = 0x%h", v0x5601caef8e20_0 {0 0 0};
    %vpi_call 2 72 "$display", "\012=== Test 4: Floating-Point Register f0 ===" {0 0 0};
    %pushi/vec4 83, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 4290772992, 0, 34;
    %concati/vec4 0, 0, 30;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %vpi_call 2 76 "$display", "WRITE: f[0] = 0x%h", v0x5601caef8f60_0 {0 0 0};
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %pushi/vec4 83, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 82 "$display", "READ:  f[0] = 0x%h", v0x5601caef8e20_0 {0 0 0};
    %vpi_call 2 85 "$display", "\012=== Test 5: Dual Read Integer Registers ===" {0 0 0};
    %pushi/vec4 32669747, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 88 "$display", "READ:  x[5] = 0x%h", v0x5601caef8e20_0 {0 0 0};
    %vpi_call 2 89 "$display", "READ:  x[31] = 0x%h", v0x5601caef8ec0_0 {0 0 0};
    %vpi_call 2 92 "$display", "\012=== Test 6: Dual Read FP Registers ===" {0 0 0};
    %pushi/vec4 10485843, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 95 "$display", "READ:  f[0] = 0x%h", v0x5601caef8e20_0 {0 0 0};
    %vpi_call 2 96 "$display", "READ:  f[10] = 0x%h", v0x5601caef8ec0_0 {0 0 0};
    %vpi_call 2 99 "$display", "\012=== Test 7: Verify Separate Register Banks ===" {0 0 0};
    %vpi_call 2 100 "$display", "Integer x[0] vs FP f[0] should be different:" {0 0 0};
    %pushi/vec4 51, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 103 "$display", "READ:  x[0] = 0x%h (integer bank)", v0x5601caef8e20_0 {0 0 0};
    %pushi/vec4 83, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 106 "$display", "READ:  f[0] = 0x%h (FP bank)", v0x5601caef8e20_0 {0 0 0};
    %vpi_call 2 109 "$display", "\012=== Test 8: Overwrite Register x5 ===" {0 0 0};
    %pushi/vec4 163891, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 112 "$display", "BEFORE: x[5] = 0x%h", v0x5601caef8e20_0 {0 0 0};
    %pushi/vec4 691, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 2443359172, 0, 35;
    %concati/vec4 448585456, 0, 29;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %vpi_call 2 117 "$display", "WRITE:  x[5] = 0x%h", v0x5601caef8f60_0 {0 0 0};
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %pushi/vec4 163891, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 123 "$display", "AFTER:  x[5] = 0x%h", v0x5601caef8e20_0 {0 0 0};
    %vpi_call 2 126 "$display", "\012=== Test 9: RegWrite Disabled ===" {0 0 0};
    %pushi/vec4 32819, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 129 "$display", "BEFORE: x[1] = 0x%h", v0x5601caef8e20_0 {0 0 0};
    %pushi/vec4 179, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 3134959034, 0, 32;
    %concati/vec4 3685595856, 0, 32;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %vpi_call 2 134 "$display", "WRITE DISABLED: Attempting x[1] = 0x%h", v0x5601caef8f60_0 {0 0 0};
    %delay 10000, 0;
    %pushi/vec4 32819, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 139 "$display", "AFTER:  x[1] = 0x%h (should be unchanged)", v0x5601caef8e20_0 {0 0 0};
    %vpi_call 2 142 "$display", "\012=== Test 10: Write Multiple Registers ===" {0 0 0};
    %pushi/vec4 179, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 1, 0, 64;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %vpi_call 2 146 "$display", "WRITE: x[1] = 0x%h", v0x5601caef8f60_0 {0 0 0};
    %delay 10000, 0;
    %pushi/vec4 307, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 2, 0, 64;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %vpi_call 2 151 "$display", "WRITE: x[2] = 0x%h", v0x5601caef8f60_0 {0 0 0};
    %delay 10000, 0;
    %pushi/vec4 435, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %pushi/vec4 3, 0, 64;
    %store/vec4 v0x5601caef8f60_0, 0, 64;
    %vpi_call 2 156 "$display", "WRITE: x[3] = 0x%h", v0x5601caef8f60_0 {0 0 0};
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5601caef8c20_0, 0, 1;
    %pushi/vec4 2129971, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 162 "$display", "READ:  x[1] = 0x%h, x[2] = 0x%h", v0x5601caef8e20_0, v0x5601caef8ec0_0 {0 0 0};
    %pushi/vec4 3211315, 0, 32;
    %store/vec4 v0x5601caef8d80_0, 0, 32;
    %delay 10000, 0;
    %vpi_call 2 166 "$display", "READ:  x[2] = 0x%h, x[3] = 0x%h", v0x5601caef8e20_0, v0x5601caef8ec0_0 {0 0 0};
    %vpi_call 2 168 "$display", "\012=== All Tests Completed ===\012" {0 0 0};
    %vpi_call 2 169 "$finish" {0 0 0};
    %end;
    .thread T_3;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "register_file_tb.v";
    "../core/register_file/register_file.v";
